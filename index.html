<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yumyum - Nutrition Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <h1 class="app-title">Yumyum</h1>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <div class="nav-tabs">
                <button class="nav-tab active" data-tab="dashboard">Dashboard</button>
                <button class="nav-tab" data-tab="progress">Progress</button>
                <button class="nav-tab" data-tab="log">Daily Log</button>
                <button class="nav-tab" data-tab="calculator">AI Calculator</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <h2 class="section-title">Today's Overview</h2>
                <div class="nutrition-grid">
                    <div class="nutrition-card">
                        <h3>Calories</h3>
                        <div class="nutrition-value">
                            <span class="current" id="calories-current">0</span>
                            <span class="goal">/ 1500</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="calories-progress"></div>
                        </div>
                    </div>
                    <div class="nutrition-card">
                        <h3>Protein</h3>
                        <div class="nutrition-value">
                            <span class="current" id="protein-current">0</span>
                            <span class="goal">/ 80g</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="protein-progress"></div>
                        </div>
                    </div>
                    <div class="nutrition-card">
                        <h3>Carbs</h3>
                        <div class="nutrition-value">
                            <span class="current" id="carbs-current">0</span>
                            <span class="goal">/ 201g</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="carbs-progress"></div>
                        </div>
                    </div>
                    <div class="nutrition-card">
                        <h3>Fat</h3>
                        <div class="nutrition-value">
                            <span class="current" id="fat-current">0</span>
                            <span class="goal">/ 42g</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="fat-progress"></div>
                        </div>
                    </div>
                    <div class="nutrition-card">
                        <h3>Fiber</h3>
                        <div class="nutrition-value">
                            <span class="current" id="fiber-current">0</span>
                            <span class="goal">/ 25g</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="fiber-progress"></div>
                        </div>
                    </div>
                </div>

                <div class="add-meal-section">
                    <button class="btn btn--primary btn--full-width" id="add-meal-btn">Add Meal</button>
                </div>
            </section>

            <!-- Progress Section -->
            <section id="progress" class="section">
                <h2 class="section-title">Progress Overview</h2>
                <div class="chart-container" style="position: relative; height: 400px;">
                    <canvas id="progress-chart"></canvas>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Avg Calories</h3>
                        <div class="stat-value" id="avg-calories">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>Avg Protein</h3>
                        <div class="stat-value" id="avg-protein">0g</div>
                    </div>
                    <div class="stat-card">
                        <h3>Avg Fiber</h3>
                        <div class="stat-value" id="avg-fiber">0g</div>
                    </div>
                </div>
            </section>

            <!-- Daily Log Section -->
            <section id="log" class="section">
                <div class="log-header">
                    <h2 class="section-title">Daily Log</h2>
                    <div class="date-navigation">
                        <button class="btn btn--outline btn--sm" id="prev-date">◀</button>
                        <span class="current-date" id="current-date">Aug 07, 2025</span>
                        <button class="btn btn--outline btn--sm" id="next-date">▶</button>
                    </div>
                </div>
                <div class="meals-list" id="meals-list">
                    <!-- Meals will be populated by JavaScript -->
                </div>
            </section>

            <!-- AI Calculator Section -->
            <section id="calculator" class="section">
                <h2 class="section-title">AI Nutrition Calculator</h2>
                <p class="section-subtitle">Enter your recipe ingredients to get nutritional values</p>
                
                <div class="calculator-container">
                    <div class="calculator-form">
                        <div class="form-group">
                            <label for="ingredients-input" class="form-label">Recipe Ingredients</label>
                            <textarea 
                                id="ingredients-input" 
                                class="form-control ingredients-textarea" 
                                placeholder="Enter ingredients with quantities, e.g.:&#10;200g chicken breast&#10;1 cup brown rice&#10;2 tbsp olive oil&#10;100g broccoli"
                                rows="8"
                            ></textarea>
                        </div>
                        <div class="form-group">
                            <label for="servings-input" class="form-label">Number of Servings</label>
                            <input type="number" id="servings-input" class="form-control" value="1" min="1" max="20">
                        </div>
                        <button class="btn btn--primary" id="calculate-btn">Calculate Nutrition</button>
                    </div>

                    <div class="calculator-results hidden" id="calculator-results">
                        <h3>Calculated Nutrition (Per Serving)</h3>
                        <div class="results-grid">
                            <div class="result-card">
                                <h4>Calories</h4>
                                <div class="result-value" id="calc-calories">0</div>
                            </div>
                            <div class="result-card">
                                <h4>Protein</h4>
                                <div class="result-value" id="calc-protein">0g</div>
                            </div>
                            <div class="result-card">
                                <h4>Carbs</h4>
                                <div class="result-value" id="calc-carbs">0g</div>
                            </div>
                            <div class="result-card">
                                <h4>Fat</h4>
                                <div class="result-value" id="calc-fat">0g</div>
                            </div>
                            <div class="result-card">
                                <h4>Fiber</h4>
                                <div class="result-value" id="calc-fiber">0g</div>
                            </div>
                        </div>
                        <div class="parsing-info" id="parsing-info">
                            <h4>Recognized Ingredients:</h4>
                            <ul id="recognized-ingredients"></ul>
                        </div>
                        <button class="btn btn--secondary" id="copy-to-meal-btn">Copy to Add Meal</button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Add Meal Modal -->
    <div class="modal hidden" id="add-meal-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Meal</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="add-meal-form">
                    <div class="form-group">
                        <label for="meal-name" class="form-label">Meal Name</label>
                        <input type="text" id="meal-name" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="meal-type" class="form-label">Meal Type</label>
                        <select id="meal-type" class="form-control" required>
                            <option value="">Select meal type</option>
                            <option value="breakfast">Breakfast</option>
                            <option value="lunch">Lunch</option>
                            <option value="dinner">Dinner</option>
                            <option value="snack">Snack</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="meal-calories" class="form-label">Calories</label>
                            <input type="number" id="meal-calories" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="meal-protein" class="form-label">Protein (g)</label>
                            <input type="number" id="meal-protein" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="meal-carbs" class="form-label">Carbs (g)</label>
                            <input type="number" id="meal-carbs" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="meal-fat" class="form-label">Fat (g)</label>
                            <input type="number" id="meal-fat" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="meal-fiber" class="form-label">Fiber (g)</label>
                        <input type="number" id="meal-fiber" class="form-control" required>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn--outline" id="cancel-btn">Cancel</button>
                        <button type="submit" class="btn btn--primary">Add Meal</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>